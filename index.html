<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>åƒä»€éº¼æ‹‰éœ¸</title>

  <style>
    :root{
      --bg:#0b0b0c; --card:#141416; --muted:#a7a7ad; --text:#f5f5f7;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", sans-serif;
      background: radial-gradient(1200px 600px at 20% 0%, #1a1a20, #0b0b0c);
      color:var(--text);
    }
    header{
      padding:18px 16px;
      border-bottom:1px solid rgba(255,255,255,0.06);
      background: rgba(11,11,12,0.6);
      backdrop-filter: blur(10px);
      position:sticky; top:0;
    }
    .appname{font-size:18px; font-weight:800}
    .subtitle{font-size:12px; color:var(--muted); margin-top:4px}

    main{padding:14px; max-width:900px; margin:0 auto;}
    .card{
      background: rgba(20,20,22,0.9);
      border-radius:18px;
      padding:16px;
      border:1px solid rgba(255,255,255,0.08);
      box-shadow:0 10px 30px rgba(0,0,0,.4);
    }

    /* pages */
    .page{display:none}
    .page.active{display:block}

    /* slot */
    .slotWrap{display:flex; justify-content:center; padding:12px 0}
    .slotWindow{
      width:100%; max-width:520px;
      height:110px;
      border-radius:18px;
      display:flex; align-items:center; justify-content:center;
      border:1px solid rgba(255,255,255,0.12);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(0,0,0,0.3));
    }
    .slotText{font-size:26px;font-weight:900;text-align:center}

    button{
      margin-top:10px;
      padding:10px 14px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      border:1px solid rgba(255,255,255,0.14);
      background:rgba(255,255,255,0.95);
      color:#111;
    }

    /* list */
    .list{display:flex;flex-direction:column;gap:8px;margin-top:10px}
    .item{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.08);
      background:rgba(255,255,255,0.04);
    }
    .name{font-weight:800}
    .note{font-size:12px;color:var(--muted);margin-top:4px}

    /* bottom nav */
    .bottomNav{
      position:fixed;
      left:0; right:0; bottom:0;
      padding:10px;
      background: rgba(11,11,12,0.75);
      border-top:1px solid rgba(255,255,255,0.08);
      display:flex; gap:10px; justify-content:center;
    }
    .tab{
      flex:1; max-width:420px;
      padding:10px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      border:1px solid rgba(255,255,255,0.14);
      background:rgba(255,255,255,0.06);
      color:var(--text);
    }
    .tab.active{
      background:#fff;
      color:#111;
    }

    .pad{height:80px}

    /* ğŸ¯ æœ€çµ‚çµæœå¼·èª¿æ•ˆæœ */
    .slotText.final {
      animation: pop 0.35s ease-out;
    }

    @keyframes pop {
      0%   { transform: scale(0.85); opacity: 0.6; }
      60%  { transform: scale(1.08); opacity: 1; }
      100% { transform: scale(1); }
    }

    .slotWindow.final {
      box-shadow: 0 0 0 0 rgba(255,255,255,0.0),
                  0 0 30px rgba(255,255,255,0.25);
      transition: box-shadow 0.3s ease;
    }

  </style>
</head>

<body>
<header>
  <div class="appname">ğŸœ åƒä»€éº¼æ‹‰éœ¸</div>
  <div class="subtitle" id="subtitle">æŒ‰ä¸€ä¸‹å°±æ±ºå®šï¼Œåˆ¥æƒ³äº†</div>
</header>

<main>
  <!-- æ‹‰éœ¸é  -->
  <section id="page-slot" class="card page active">
    <h2>æ‹‰éœ¸æ©Ÿ ğŸ°</h2>
    <div class="slotWrap">
      <div class="slotWindow">
        <div id="slotText" class="slotText">æŒ‰ä¸‹é–‹å§‹</div>
      </div>
    </div>
    <button id="spinBtn">é–‹å§‹æ‹‰éœ¸</button>
  </section>

  <!-- æ¸…å–®é  -->
  <section id="page-list" class="card page">
    <h2>é¤å»³æ¸…å–® ğŸ§¾</h2>
    <div id="list" class="list"></div>
  </section>

  <div class="pad"></div>
</main>

<nav class="bottomNav">
  <button id="tabSlot" class="tab active">ğŸ° æ‹‰éœ¸</button>
  <button id="tabList" class="tab">ğŸ§¾ æ¸…å–®</button>
</nav>

<script>
  /* ========= åœ¨é€™è£¡æ”¹é¤å»³æ¸…å–® ========= */
  const RESTAURANTS = [
    { name: "æ¼¢å ¡ç‹", note: "é€Ÿé£Ÿ" },
    { name: "å‡Œæ³¢", note: "é‡æ…¶å°éºµ" },
    { name: "ç‘ªè¥¿soéŸ“å¼è±†è…é‹", note: "éŸ“å¼ç«é‹" },
    { name: "è·¯æ˜“è", note: "æ—©åˆé¤" },
    { name: "éº¥å‘³ç™»", note: "æ—©åˆé¤" },
    { name: "ç¦¾åŒ ç²¥å“éºµé£Ÿ", note: "éºµã€ç²¥" },
    { name: "æœ¨å­æ", note: "éŸ“å¼ç«é‹" },
    { name: "MUMU", note: "å¤å¨å¤·æ‹Œé£¯" },
    { name: "ç‡æ‰‹å‰µ", note: "ç†±ç‚’" },
    { name: "é‡‘è»’é´¨è‚‰é£¯", note: "é´¨è‚‰é£¯" },
    { name: "å··å­å…§é™½æ˜¥éºµ", note: "ç‚’é£¯" },
    { name: "éº¥ç•¶å‹", note: "é€Ÿé£Ÿ" },
    { name: "çŸ³äºŒé‹/12mini", note: "ç«é‹" },
    { name: "çˆ­é®®", note: "å£½å¸" },
    { name: "èƒ¡éº»æ¡¶å­", note: "éº»è¾£ç‡™" },
    { name: "235", note: "ç¾©å¤§åˆ©éºµ" },
    { name: "ç‰›è€äºŒ", note: "ç‰›è‚‰éºµ" },
    { name: "å¤çŒ—åœ’", note: "è’¸é¤ƒ" }
  ];
  /* ================================= */

  const pageSlot = document.getElementById("page-slot");
  const pageList = document.getElementById("page-list");
  const tabSlot = document.getElementById("tabSlot");
  const tabList = document.getElementById("tabList");
  const subtitle = document.getElementById("subtitle");
  const slotText = document.getElementById("slotText");
  const listEl = document.getElementById("list");

  function showPage(p){
    const isSlot = p === "slot";
    pageSlot.classList.toggle("active", isSlot);
    pageList.classList.toggle("active", !isSlot);
    tabSlot.classList.toggle("active", isSlot);
    tabList.classList.toggle("active", !isSlot);
    subtitle.textContent = isSlot ? "æŒ‰ä¸€ä¸‹å°±æ±ºå®šï¼Œåˆ¥æƒ³äº†" : "ç›®å‰å¯é¸é¤å»³";
  }

  tabSlot.onclick = () => showPage("slot");
  tabList.onclick = () => showPage("list");

  document.getElementById("spinBtn").onclick = () => {
  const duration = 1800 + Math.random() * 700;
  const start = performance.now();
  let lastChange = 0;

  // æ¸…æ‰ä¸Šä¸€æ¬¡çš„æœ€çµ‚ç‹€æ…‹
  slotText.classList.remove("final");
  document.querySelector(".slotWindow").classList.remove("final");

  // å…ˆæ±ºå®šæœ€çµ‚çµæœï¼ˆå¾ˆé‡è¦ï¼ï¼‰
  const finalPick = RESTAURANTS[Math.floor(Math.random() * RESTAURANTS.length)];

  function tick(now){
    const elapsed = now - start;
    const progress = Math.min(1, elapsed / duration);

    // è·³å‹•é€Ÿåº¦æ›²ç·š
    const interval = 50 + Math.pow(progress, 2) * 250;

    if (now - lastChange > interval) {
      const pick = RESTAURANTS[Math.floor(Math.random() * RESTAURANTS.length)];
      slotText.textContent = pick.name;
      lastChange = now;
    }

    if (progress < 1) {
      requestAnimationFrame(tick);
    } else {
      // ğŸ¯ æœ€å¾Œå®šæ ¼ï¼ˆé‡é»åœ¨é€™ï¼‰
      slotText.textContent = finalPick.name;

      // å¼·èª¿æ•ˆæœ
      slotText.classList.add("final");
      document.querySelector(".slotWindow").classList.add("final");

      // ç§»é™¤ classï¼Œé¿å…ä¸‹æ¬¡ä¸è§¸ç™¼å‹•ç•«
      setTimeout(() => {
        slotText.classList.remove("final");
        document.querySelector(".slotWindow").classList.remove("final");
      }, 600);
    }
  }

  requestAnimationFrame(tick);
};
function renderList(){
  listEl.innerHTML = "";

  // ä¾å‚™è¨»æ’åºï¼ˆä½ ä¹‹å‰æƒ³è¦çš„ï¼‰
  const sorted = [...RESTAURANTS].sort((a, b) => {
    const noteA = a.note || "";
    const noteB = b.note || "";

    if (noteA !== noteB) {
      return noteA.localeCompare(noteB, "zh-Hant");
    }
    return a.name.localeCompare(b.name, "zh-Hant");
  });

  sorted.forEach(r => {
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <div class="name">${r.name}</div>
      <div class="note">${r.note || ""}</div>
    `;
    listEl.appendChild(div);
  });
}
  renderList();
</script>
</body>
</html>

